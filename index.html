<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–µ–π—Å—ã —Å —ç–º–æ–¥–∑–∏</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; padding: 50px; background: #f0f0f0; }
  button { padding: 10px 20px; margin: 10px; font-size: 16px; cursor: pointer; }
  .case { border: 2px solid #333; padding: 20px; margin: 20px; display: inline-block; background: #fff; border-radius: 10px; }
</style>
</head>
<body>

<h1>–ö–µ–π—Å—ã —Å —ç–º–æ–¥–∑–∏</h1>

<div class="case">
  <h2>–û–±—ã—á–Ω—ã–π –∫–µ–π—Å</h2>
  <button id="openNormal">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</button>
  <p id="normalResult">üé≤</p>
  <p id="normalTimer"></p>
</div>

<div class="case">
  <h2>–ü–ª–∞—Ç–Ω—ã–π –∫–µ–π—Å</h2>
  <button id="openPremium">–ö—É–ø–∏—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</button>
  <p id="premiumResult">üíé</p>
  <p id="premiumTimer"></p>
</div>

<script>
const normalEmojis = ['üòÄ','üòé','üòÇ','ü§©','ü•≥'];
const premiumEmojis = ['üëë','üíé','üöÄ','ü¶Ñ','üî•'];

const NORMAL_KEY = 'normalCaseTime';
const PREMIUM_KEY = 'premiumCaseTime';
const TIMER = 48 * 60 * 60 * 1000; // 48 —á–∞—Å–æ–≤ –≤ –º—Å

function canOpen(key) {
  const lastTime = localStorage.getItem(key);
  if (!lastTime) return true;
  return Date.now() - lastTime >= TIMER;
}

function updateTimer(key, elementId) {
  const lastTime = localStorage.getItem(key);
  if (!lastTime) return;
  let diff = TIMER - (Date.now() - lastTime);
  if (diff <= 0) {
    document.getElementById(elementId).textContent = '';
    return;
  }
  const hours = Math.floor(diff / (1000*60*60));
  const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
  const seconds = Math.floor((diff % (1000*60)) / 1000);
  document.getElementById(elementId).textContent = `–ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ ${hours}—á ${minutes}–º ${seconds}—Å`;
  setTimeout(() => updateTimer(key, elementId), 1000);
}

document.getElementById('openNormal').onclick = () => {
  if (!canOpen(NORMAL_KEY)) { alert('–û–±—ã—á–Ω—ã–π –∫–µ–π—Å –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑ –≤ 48 —á–∞—Å–æ–≤'); return; }
  const emoji = normalEmojis[Math.floor(Math.random() * normalEmojis.length)];
  document.getElementById('normalResult').textContent = emoji;
  localStorage.setItem(NORMAL_KEY, Date.now());
  updateTimer(NORMAL_KEY, 'normalTimer');
};

document.getElementById('openPremium').onclick = () => {
  if (!canOpen(PREMIUM_KEY)) { alert('–ü–ª–∞—Ç–Ω—ã–π –∫–µ–π—Å –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑ –≤ 48 —á–∞—Å–æ–≤'); return; }
  const emoji = premiumEmojis[Math.floor(Math.random() * premiumEmojis.length)];
  document.getElementById('premiumResult').textContent = emoji;
  localStorage.setItem(PREMIUM_KEY, Date.now());
  updateTimer(PREMIUM_KEY, 'premiumTimer');
};

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
updateTimer(NORMAL_KEY, 'normalTimer');
updateTimer(PREMIUM_KEY, 'premiumTimer');
</script>

</body>
</html>
