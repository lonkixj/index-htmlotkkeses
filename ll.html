<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–µ–π—Å—ã —Å NFT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: 'Arial', sans-serif;
  margin: 0;
  padding: 0;
  background: linear-gradient(135deg,#6a11cb,#2575fc);
  color: #fff;
  text-align: center;
}
h1 { margin: 20px; }
#coinsBox {
  border: 2px solid #fff;
  border-radius: 12px;
  padding: 10px 20px;
  display: inline-block;
  margin-bottom: 20px;
  font-weight: bold;
  font-size: 18px;
  background: rgba(0,0,0,0.2);
}
button {
  padding: 12px 20px;
  margin: 10px;
  font-size: 16px;
  cursor: pointer;
  border: none;
  border-radius: 8px;
  background: #ffcc00;
  color: #000;
  transition: transform 0.2s;
}
button:hover { transform: scale(1.05); }
.case {
  display: block;
  background: rgba(255,255,255,0.1);
  padding: 15px;
  margin: 15px auto;
  border-radius: 12px;
  max-width: 350px;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
}
#inventory { margin-top: 20px; max-width: 400px; margin-left:auto;margin-right:auto;}
.nft-item {
  display: flex;
  justify-content: space-between;
  background: rgba(0,0,0,0.2);
  margin: 5px 0;
  padding: 5px 10px;
  border-radius: 8px;
  align-items: center;
  flex-wrap: wrap;
}
.nft-emoji { font-size: 24px; }
.effect { animation: pop 0.5s ease; }
@keyframes pop { 0% {transform: scale(0);} 100% {transform: scale(1);} }
/* –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
@media(max-width:480px){
  button{width:90%; font-size:18px;}
  .case{max-width:90%;}
  .nft-item{flex-direction:column;align-items:flex-start;}
}
.info { font-size: 12px; margin-top: 5px; background: rgba(255,255,255,0.2); padding: 5px; border-radius: 5px;}
</style>
</head>
<body>

<h1>–ö–µ–π—Å—ã —Å NFT</h1>
<div id="coinsBox">–ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span> üí∞</div>

<div id="casesContainer"></div>

<h2>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
<div id="inventory"></div>
<p>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å NFT: <span id="totalValue">0</span> üí∞</p>

<script>
let coins = parseInt(localStorage.getItem('coins')) || 1000;
document.getElementById('coins').textContent = coins;

const inventory = JSON.parse(localStorage.getItem('inventory')) || [];

function saveInventory(){ localStorage.setItem('inventory', JSON.stringify(inventory)); }

function renderInventory(){
  const invDiv = document.getElementById('inventory');
  invDiv.innerHTML='';
  let total=0;
  inventory.forEach((item,index)=>{
    total+=item.price;
    const div=document.createElement('div');
    div.className='nft-item';
    div.innerHTML=`<span class="nft-emoji">${item.emoji}</span>
                   <span>${item.name} - ${item.price}üí∞</span>
                   <button onclick="sellNFT(${index})">–ü—Ä–æ–¥–∞—Ç—å</button>`;
    invDiv.appendChild(div);
  });
  document.getElementById('totalValue').textContent = total;
}

function sellNFT(index){
  coins += inventory[index].price;
  localStorage.setItem('coins',coins);
  document.getElementById('coins').textContent = coins;
  inventory.splice(index,1);
  saveInventory();
  renderInventory();
}

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º 10 –∫–µ–π—Å–æ–≤
const cases = [
  {name:"–û–±—ã—á–Ω—ã–π –∫–µ–π—Å", price:100, emojis:[
      {emoji:'üòÄ',price:50,chance:40},
      {emoji:'üòé',price:70,chance:30},
      {emoji:'üòÇ',price:60,chance:20},
      {emoji:'ü§©',price:90,chance:7},
      {emoji:'ü•≥',price:100,chance:3}
  ]},
  {name:"–†–µ–¥–∫–∏–π –∫–µ–π—Å", price:250, emojis:[
      {emoji:'üëë',price:200,chance:40},
      {emoji:'üíé',price:250,chance:30},
      {emoji:'üöÄ',price:220,chance:20},
      {emoji:'ü¶Ñ',price:230,chance:7},
      {emoji:'üî•',price:240,chance:3}
  ]},
  {name:"–≠–ø–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å", price:400, emojis:[
      {emoji:'üåü',price:350,chance:50},
      {emoji:'‚ö°',price:400,chance:30},
      {emoji:'üéØ',price:380,chance:15},
      {emoji:'üèÜ',price:420,chance:4},
      {emoji:'üí´',price:450,chance:1}
  ]},
  {name:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –∫–µ–π—Å", price:600, emojis:[
      {emoji:'üõ°Ô∏è',price:550,chance:50},
      {emoji:'üó°Ô∏è',price:580,chance:30},
      {emoji:'üèπ',price:600,chance:15},
      {emoji:'üßø',price:630,chance:4},
      {emoji:'‚öîÔ∏è',price:650,chance:1}
  ]},
  {name:"–ú–∞–≥–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å", price:800, emojis:[
      {emoji:'ü™Ñ',price:750,chance:50},
      {emoji:'üîÆ',price:780,chance:30},
      {emoji:'üïØÔ∏è',price:800,chance:15},
      {emoji:'üßô‚Äç‚ôÇÔ∏è',price:830,chance:4},
      {emoji:'üßù‚Äç‚ôÄÔ∏è',price:850,chance:1}
  ]},
  {name:"–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –∫–µ–π—Å", price:1000, emojis:[
      {emoji:'üíé',price:950,chance:50},
      {emoji:'ü™ô',price:980,chance:30},
      {emoji:'üèÖ',price:1000,chance:15},
      {emoji:'ü•á',price:1030,chance:4},
      {emoji:'üèÜ',price:1050,chance:1}
  ]},
  {name:"–¢–∏—Ç–∞–Ω –∫–µ–π—Å", price:1200, emojis:[
      {emoji:'üóø',price:1150,chance:50},
      {emoji:'‚öîÔ∏è',price:1180,chance:30},
      {emoji:'üõ°Ô∏è',price:1200,chance:15},
      {emoji:'üèπ',price:1230,chance:4},
      {emoji:'ü™Ñ',price:1250,chance:1}
  ]},
  {name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å", price:1500, emojis:[
      {emoji:'üöÄ',price:1450,chance:50},
      {emoji:'ü™ê',price:1480,chance:30},
      {emoji:'üåå',price:1500,chance:15},
      {emoji:'üåü',price:1530,chance:4},
      {emoji:'üí´',price:1550,chance:1}
  ]},
  {name:"–ú–∏—Ñ–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å", price:1800, emojis:[
      {emoji:'üêâ',price:1750,chance:50},
      {emoji:'ü¶Ñ',price:1780,chance:30},
      {emoji:'üßù',price:1800,chance:15},
      {emoji:'üßô',price:1830,chance:4},
      {emoji:'ü™Ñ',price:1850,chance:1}
  ]},
  {name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–µ–π—Å", price:2000, emojis:[
      {emoji:'‚ö°',price:1950,chance:50},
      {emoji:'üåü',price:1980,chance:30},
      {emoji:'üèÜ',price:2000,chance:15},
      {emoji:'üíé',price:2030,chance:4},
      {emoji:'üëë',price:2050,chance:1}
  ]}
];

function generateCases(){
  const container = document.getElementById('casesContainer');
  cases.forEach((c,index)=>{
    const div = document.createElement('div');
    div.className='case';
    let info='';
    c.emojis.forEach(e=>{ info += `${e.emoji} ${e.price}üí∞ - ${e.chance}%<br>` });
    div.innerHTML=`<h3>${c.name} (–¶–µ–Ω–∞: ${c.price})</h3>
                   <button onclick="openCase(${index})">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</button>
                   <p class="info">–ú–æ–∂–µ—Ç –≤—ã–ø–∞—Å—Ç—å:<br>${info}</p>
                   <p id="result${index}"></p>`;
    container.appendChild(div);
  });
}

function openCase(index){
  const c = cases[index];
  if(coins<c.price){ alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç'); return; }
  coins -= c.price;
  localStorage.setItem('coins',coins);
  document.getElementById('coins').textContent=coins;

  // –í—ã–±–æ—Ä —ç–º–æ–¥–∑–∏ –ø–æ —à–∞–Ω—Å–∞–º
  const rand=Math.random()*100;
  let sum=0;
  let selected;
  c.emojis.forEach(e=>{
    sum+=e.chance;
    if(!selected && rand<=sum) selected=e;
  });
  if(!selected) selected = c.emojis[0];

  const name='NFT#'+Math.floor(Math.random()*1000);
  inventory.push({...selected,name});
  saveInventory();
  renderInventory();

  const result=document.getElementById('result'+index);
  result.textContent=selected.emoji+' '+name;
  result.classList.add('effect');
  setTimeout(()=> result.classList.remove('effect'),500);
}

generateCases();
renderInventory();
</script>
</body>
</html>
